{
  "components": {
    "schemas": {
      "ChannelGroupCreateRequest": {
        "description": "Request payload for creating one channel group.",
        "properties": {
          "dedupe_horizon_minutes_override": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Dedupe Horizon Minutes Override"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "name": {
            "minLength": 1,
            "title": "Name",
            "type": "string"
          }
        },
        "required": [
          "name"
        ],
        "title": "ChannelGroupCreateRequest",
        "type": "object"
      },
      "ChannelGroupDeleteResponse": {
        "description": "Response payload for channel-group delete operations.",
        "properties": {
          "deleted_group_id": {
            "title": "Deleted Group Id",
            "type": "integer"
          }
        },
        "required": [
          "deleted_group_id"
        ],
        "title": "ChannelGroupDeleteResponse",
        "type": "object"
      },
      "ChannelGroupMembershipResponse": {
        "description": "Response payload for channel-group membership mutations.",
        "properties": {
          "channel_id": {
            "title": "Channel Id",
            "type": "integer"
          },
          "group_id": {
            "title": "Group Id",
            "type": "integer"
          },
          "is_member": {
            "title": "Is Member",
            "type": "boolean"
          }
        },
        "required": [
          "group_id",
          "channel_id",
          "is_member"
        ],
        "title": "ChannelGroupMembershipResponse",
        "type": "object"
      },
      "ChannelGroupPatchRequest": {
        "description": "Request payload for partial channel-group updates.",
        "properties": {
          "dedupe_horizon_minutes_override": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Dedupe Horizon Minutes Override"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "name": {
            "anyOf": [
              {
                "minLength": 1,
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Name"
          }
        },
        "title": "ChannelGroupPatchRequest",
        "type": "object"
      },
      "ChannelGroupResponse": {
        "description": "Response payload for channel-group API operations.",
        "properties": {
          "dedupe_horizon_minutes_override": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Dedupe Horizon Minutes Override"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "id": {
            "title": "Id",
            "type": "integer"
          },
          "name": {
            "title": "Name",
            "type": "string"
          }
        },
        "required": [
          "id",
          "name",
          "description",
          "dedupe_horizon_minutes_override"
        ],
        "title": "ChannelGroupResponse",
        "type": "object"
      },
      "HTTPValidationError": {
        "properties": {
          "detail": {
            "items": {
              "$ref": "#/components/schemas/ValidationError"
            },
            "title": "Detail",
            "type": "array"
          }
        },
        "title": "HTTPValidationError",
        "type": "object"
      },
      "SettingUpsertRequest": {
        "description": "Request payload for dynamic settings upsert calls.",
        "properties": {
          "value": {
            "title": "Value"
          }
        },
        "required": [
          "value"
        ],
        "title": "SettingUpsertRequest",
        "type": "object"
      },
      "SettingUpsertResponse": {
        "description": "Response payload for dynamic settings upsert calls.",
        "properties": {
          "key": {
            "title": "Key",
            "type": "string"
          },
          "value": {
            "title": "Value"
          }
        },
        "required": [
          "key",
          "value"
        ],
        "title": "SettingUpsertResponse",
        "type": "object"
      },
      "ValidationError": {
        "properties": {
          "ctx": {
            "title": "Context",
            "type": "object"
          },
          "input": {
            "title": "Input"
          },
          "loc": {
            "items": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "integer"
                }
              ]
            },
            "title": "Location",
            "type": "array"
          },
          "msg": {
            "title": "Message",
            "type": "string"
          },
          "type": {
            "title": "Error Type",
            "type": "string"
          }
        },
        "required": [
          "loc",
          "msg",
          "type"
        ],
        "title": "ValidationError",
        "type": "object"
      }
    }
  },
  "paths": {
    "/channel-groups": {
      "get": {
        "description": "List channel groups ordered by ascending id.",
        "operationId": "list_channel_groups_channel_groups_get",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/ChannelGroupResponse"
                  },
                  "title": "Response List Channel Groups Channel Groups Get",
                  "type": "array"
                }
              }
            },
            "description": "Successful Response"
          }
        },
        "summary": "List Channel Groups",
        "tags": [
          "channel-groups"
        ]
      },
      "post": {
        "description": "Create one channel group via app writer queue serialization.",
        "operationId": "create_channel_group_channel_groups_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ChannelGroupCreateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ChannelGroupResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Create Channel Group",
        "tags": [
          "channel-groups"
        ]
      }
    },
    "/channel-groups/{group_id}": {
      "delete": {
        "description": "Delete one channel group by id through writer queue execution.",
        "operationId": "delete_channel_group_channel_groups__group_id__delete",
        "parameters": [
          {
            "in": "path",
            "name": "group_id",
            "required": true,
            "schema": {
              "title": "Group Id",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ChannelGroupDeleteResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Delete Channel Group",
        "tags": [
          "channel-groups"
        ]
      },
      "patch": {
        "description": "Patch one channel-group row, supporting horizon override clear via null.",
        "operationId": "patch_channel_group_channel_groups__group_id__patch",
        "parameters": [
          {
            "in": "path",
            "name": "group_id",
            "required": true,
            "schema": {
              "title": "Group Id",
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ChannelGroupPatchRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ChannelGroupResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Patch Channel Group",
        "tags": [
          "channel-groups"
        ]
      }
    },
    "/channel-groups/{group_id}/channels/{channel_id}": {
      "delete": {
        "description": "Remove one channel-group membership; missing membership is idempotent.",
        "operationId": "delete_channel_group_membership_channel_groups__group_id__channels__channel_id__delete",
        "parameters": [
          {
            "in": "path",
            "name": "group_id",
            "required": true,
            "schema": {
              "title": "Group Id",
              "type": "integer"
            }
          },
          {
            "in": "path",
            "name": "channel_id",
            "required": true,
            "schema": {
              "title": "Channel Id",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ChannelGroupMembershipResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Delete Channel Group Membership",
        "tags": [
          "channel-groups"
        ]
      },
      "put": {
        "description": "Assign one channel to one group, preserving PUT idempotency semantics.",
        "operationId": "put_channel_group_membership_channel_groups__group_id__channels__channel_id__put",
        "parameters": [
          {
            "in": "path",
            "name": "group_id",
            "required": true,
            "schema": {
              "title": "Group Id",
              "type": "integer"
            }
          },
          {
            "in": "path",
            "name": "channel_id",
            "required": true,
            "schema": {
              "title": "Channel Id",
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ChannelGroupMembershipResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Put Channel Group Membership",
        "tags": [
          "channel-groups"
        ]
      }
    },
    "/settings/{key}": {
      "get": {
        "description": "Read one allowlisted dynamic setting key with seeded-default fallback.",
        "operationId": "get_setting_settings__key__get",
        "parameters": [
          {
            "in": "path",
            "name": "key",
            "required": true,
            "schema": {
              "title": "Key",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SettingUpsertResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Get Setting",
        "tags": [
          "settings"
        ]
      },
      "put": {
        "description": "Create or update one dynamic setting by key through writer queue.",
        "operationId": "put_setting_settings__key__put",
        "parameters": [
          {
            "in": "path",
            "name": "key",
            "required": true,
            "schema": {
              "title": "Key",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SettingUpsertRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SettingUpsertResponse"
                }
              }
            },
            "description": "Successful Response"
          },
          "422": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            },
            "description": "Validation Error"
          }
        },
        "summary": "Put Setting",
        "tags": [
          "settings"
        ]
      }
    }
  }
}
